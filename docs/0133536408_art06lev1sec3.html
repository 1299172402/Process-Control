<html><head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="M6.3 Bode Analysis"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
<style type="text/css">	.tt1    {font-size: 10pt;}</style>
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
	<a href="0133536408_art06lev1sec2.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0133536408_art06lev1sec4.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="art06lev1sec3"></A><H3 class="docSection1Title">M6.3 Bode Analysis</H3>
<P class="docText">Here, we enter the first-order + time-delay model in the M<span class="docEmphSmaller">ATLAB</span> command window.</P>
<pre>

</pre><pre>
&#187; fodt = tf([1],[10 1],'InputDelay',5)

Transfer function:
   1
--------
10 s + 1

Input delay: 5
</pre>
<P class="docText">Now, let us perform a Bode analysis assuming a proportional controller gain of 1.</P>
<pre>

</pre><pre>
&#187; kc = 1;
&#187; [mag,phase,w] = bode(kc*fodt);
&#187; subplot(2,1,1), loglog(w,squeeze(mag))
&#187; subplot(2,1,2), semilogx(w,squeeze(phase),[0.01 1],
  [-180 -180],'--')
</pre>
<P class="docText">The resulting Bode plot, with the –180&#176; line drawn for convenience, is shown in <A class="docLink" HREF="#art06m6fig03">Figure M6-3</A>. Notice that the crossover frequency is around 0.36 rad/min, where the amplitude ratio is approximately 0.26. The gain margin is then 1/0.26 = 3.8. This means that the controller gain could be increased to roughly 3.8 before the process goes unstable. This is consistent with the finding of <span class="docEmphasis">k</span><SUB>c</SUB> = 3.8 for instability, shown in the previous section (time-domain simulation).</P>
<CENTER><H5 class="docFigureTitle"><A NAME="art06m6fig03"></A>Figure M6-3. Bode plot of <span class="docEmphasis">g</span><SUB>c</SUB>(<span class="docEmphasis">s</span>)<span class="docEmphasis">g</span><SUB>p</SUB>(<span class="docEmphasis">s</span>) for <span class="docEmphasis">k</span><SUB>c</SUB> = 1.</H5><p class="docText"><IMG BORDER="0" WIDTH="500" HEIGHT="383" src="FILES/m06fig03.gif" ALT="graphics/m06fig03.gif"></p></CENTER>
<P class="docText">The gain and phase margins can be calculated using the following M<span class="docEmphSmaller">ATLAB</span> function:</P>
<pre>

</pre><pre>
&#187; [Gm,Pm,Wco,Wpm] = imargin(squeeze(mag),squeeze(phase),w)

Gm = 3.80093442825351
Pm = Inf
Wco = 0.36655875121677
Wpm = NaN
</pre>
<P class="docText">where <font face="symbol">w</font><span class="docEmphasis"><SUB>co</SUB></span> is the crossover frequency (where <font face="symbol">f</font> = –180&#176;) and <font face="symbol">w</font><span class="docEmphasis"><SUB>pm</SUB></span> is the frequency where AR = 1.</P>
<A NAME="art06lev2sec1"></A><H4 class="docSection2Title"> Gain Margin</H4>
<P class="docText">The gain margin of 3.8 indicates that the controller gain can be increased from 1 to 3.8 before the process becomes unstable—again, this is consistent with the previous results. Also notice that the phase margin is infinity. This is because the amplitude ratio is always less than 1 (it is exactly 1 only at 0 frequency, when the proportional gain is 1).</P>
<A NAME="art06lev2sec2"></A><H4 class="docSection2Title"> Crossover Frequency/Ultimate Period</H4>
<P class="docText">The crossover frequency is 0.366 rad/minute. Converting this to cycles/minute, we find a frequency of 0.0583 cycles/minute, which corresponds to a period of 1/0.0583 = 17.16 minutes. This is exactly the value found in the time-domain simulations.</P>
<A NAME="art06lev2sec3"></A><H4 class="docSection2Title"> Nyquist Diagram</H4>
<P class="docText">The Nyquist plot (<A class="docLink" HREF="#art06m6fig04">Figure M6-4</A>) can be generated by using the following commands:</P>
<pre>

</pre><pre>
&#187; [re,im,w] = nyquist(kc*fodt);
&#187; plot(squeeze(re),squeeze(im))
</pre>
<CENTER><H5 class="docFigureTitle"><A NAME="art06m6fig04"></A>Figure M6-4. Nyquist plot of <span class="docEmphasis">g</span><SUB>c</SUB>(<span class="docEmphasis">s</span>)<span class="docEmphasis">g</span><SUB>p</SUB>(<span class="docEmphasis">s</span>) for <span class="docEmphasis">k</span><SUB>c</SUB> = 1.</H5><p class="docText"><IMG BORDER="0" WIDTH="450" HEIGHT="433" src="FILES/m06fig04.gif" ALT="graphics/m06fig04.gif"></p></CENTER>
<p class="docText"><span class="docEmphasis">Problem 1</span>. 
Use a controller proportional gain of 3.8 and perform a Bode analysis to show that the amplitude ratio is 1 at the crossover frequency. What is the phase margin and frequency when AR = 1 (for the controller proportional gain of 3.8)?</p>
<P class="docText"><span class="docEmphStrong">Solution</span></P>
<P class="docText">The Bode and Nyquist plots for <span class="docEmphasis">g</span><SUB>c</SUB>(<span class="docEmphasis">s</span>)<span class="docEmphasis">g</span><SUB>p</SUB>(<span class="docEmphasis">s</span>) with <span class="docEmphasis">k</span><SUB>c</SUB> = 3.8 are shown in <A class="docLink" HREF="#art06m6fig05">Figures M6-5</A> and <A class="docLink" HREF="#art06m6fig06">M6-6</A>. Notice that the phase margin is 1 (the AR = 1 at the crossover frequency) and the phase margin is 0 (the phase angle is -180&#176; when the AR = 1).</P>
<CENTER><H5 class="docFigureTitle"><A NAME="art06m6fig05"></A>Figure M6-5. Bode plot of <span class="docEmphasis">g</span><SUB>c</SUB>(<span class="docEmphasis">s</span>)<span class="docEmphasis">g</span><SUB>p</SUB>(<span class="docEmphasis">s</span>) for <span class="docEmphasis">k</span><SUB>c</SUB> = 3.8. Notice that the gain margin is 1 and the phase margin is 0&#176;, indicating that the system is on the verge of instability.</H5><p class="docText"><IMG BORDER="0" WIDTH="475" HEIGHT="378" src="FILES/m06fig05.gif" ALT="graphics/m06fig05.gif"></p></CENTER>
<CENTER><H5 class="docFigureTitle"><A NAME="art06m6fig06"></A>Figure M6-6. Nyquist plot of <span class="docEmphasis">g</span><SUB>c</SUB>(<span class="docEmphasis">s</span>)<span class="docEmphasis">g</span><SUB>p</SUB>(<span class="docEmphasis">s</span>) for <span class="docEmphasis">k</span><SUB>c</SUB> = 3.8. The Nyquist curve passes through the critical point (–1,0), indicating the system is on the verge of instability.</H5><p class="docText"><IMG BORDER="0" WIDTH="450" HEIGHT="439" src="FILES/m06fig06.gif" ALT="graphics/m06fig06.gif"></p></CENTER>
<P class="docText">This is also shown by the gain and phase margin analysis from M<span class="docEmphSmaller">ATLAB</span>:</P>
<pre>

</pre><pre>
&#187; kc = 3.8;
&#187; [mag,phase,w] = bode(kc*fodt);
&#187; [Gm,Pm,Wco,Wpm] = imargin(squeeze(mag),squeeze(phase),w)

Gm  = 1.00024590217198
Pm  = 0.03106191271067
Wco = 0.36655875121677
Wpm = 0.36646150971664
</pre>
<P class="docText">Notice that the gain margin is effectively 1, the phase margin is effectively 0, and the crossover and phase margin frequencies converge to 0.366 rad/min.</P>
<a href="0133536408_9971534.html"><img src="FILES/pixel.gif" width="1" height="1" border="0"></a><ul></ul></td></tr></table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
          <a href="0133536408_art06lev1sec2.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0133536408_art06lev1sec4.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
