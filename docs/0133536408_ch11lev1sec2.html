<html><head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="11.2 Antireset Windup"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
<style type="text/css">	.tt1    {font-size: 10pt;}</style>
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
	<a href="0133536408_ch11lev1sec1.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0133536408_ch11lev1sec3.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="ch11lev1sec2"></A><H3 class="docSection1Title">11.2 Antireset Windup</H3>
<A NAME="ch11lev2sec1"></A><H4 class="docSection2Title"> Reset (Integral) Windup</H4>
<P class="docText">The phenomenon of reset windup occurs when a controller with integral action operates with the manipulated variable at a constraint for a period of time. When the manipulated input hits the constraint, the integral term in a PID controller continues to accumulate the error, requesting more and more manipulated variable action; the manipulated input cannot increase, however, since it is already constrained. Owing to this integral windup, the manipulated variable may stay saturated longer than is necessary. A block diagram for a process with manipulated input constraints is shown in <A class="docLink" HREF="#ch11fig01">Figure 11-1a</A>, where <span class="docEmphasis">v</span> represents the unconstrained input from the controller, while <span class="docEmphasis">u</span> represents the actual constrained input implemented on the process. The "saturation" element detailed in <A class="docLink" HREF="#ch11fig01">Figure 11-1b</A>, has the following mathematical description</P>
<P><B><A NAME="ch11equ01"></A>Equation 11.1 </B></P><p class="docText"><IMG BORDER="0" WIDTH="154" HEIGHT="52" src="FILES/11equ01.gif" ALT="graphics/11equ01.gif"></p><br>
<CENTER><H5 class="docFigureTitle"><A NAME="ch11fig01"></A>Figure 11-1. Representation of a process with a constrained input.</H5><p class="docText"><IMG BORDER="0" WIDTH="500" HEIGHT="348" src="FILES/11fig01.gif" ALT="graphics/11fig01.gif"></p></CENTER>
<P class="docText">The effect of reset windup is illustrated in the following example.</P>

<A NAME="ch11lev2sec2"></A><H4 class="docSection2Title"> Example 11.1: Illustration of Reset Windup</H4>
<P class="docText">Consider the first-order process,</P>
<p class="docText"><IMG BORDER="0" WIDTH="73" HEIGHT="32" src="FILES/11equ01a.gif" ALT="graphics/11equ01a.gif"></p><br>
<P class="docText">where the time unit is minutes. Here we compare two processes: where the manipulated input is unconstrained, and where the manipulated input is constrained between –1 and 1. Assuming deviation variable form and an initial steady-state output of 0, we know that the constrained process cannot achieve a steady-state output change of greater than 0.5. Here we tune the PI controller for a closed-loop response time of 0.25 minutes. The controller gain and integral time parameter values are <span class="docEmphasis">k<SUB>c</SUB></span> = 8, <font face="symbol">t</font><span class="docEmphasis"><SUB>I</SUB></span> = 1 min.</P>
<P class="docText"><A class="docLink" HREF="#ch11fig02">Figure 11-2</A> compares the input and output responses for a setpoint change of 0.4 in both the constrained and unconstrained control systems. The process output for the constrained system exhibits overshoot, while the unconstrained system has the expected first-order closed-loop response. The overshoot is due to reset windup. Notice the constrained manipulated input stays saturated for 2 minutes, although the output is above the setpoint after 1.5 minutes (after the setpoint change).</P>
<CENTER><H5 class="docFigureTitle"><A NAME="ch11fig02"></A>Figure 11-2. Comparison of unconstrained and constrained responses to a step setpoint change.</H5><p class="docText"><IMG BORDER="0" WIDTH="450" HEIGHT="358" src="FILES/11fig02.gif" ALT="graphics/11fig02.gif"></p></CENTER>
<P class="docText">A S<span class="docEmphSmaller">IMULINK</span> block diagram for this problem is shown in <A class="docLink" HREF="0133536408_ch11lev1sec7.html#ch11lev1sec7">Section 11.7</A>. For small setpoint changes (say, &#177;0.1) you should find that reset windup is not a problem. You should show that as the setpoint change approaches 0.5 (remember, this is the maximum steady-state change that can be handled by the process, owing to the input constraints), the reset windup effect becomes worse. See Exercise 2.</P>
<A NAME="ch11lev2sec3"></A><H4 class="docSection2Title"> Antireset Windup (ARW) Techniques</H4>
<P class="docText">There are a number of ways that have been developed to minimize problems with reset windup. Two ways are compared with the standard PI algorithm in <A class="docLink" HREF="#ch11fig03">Figure 11-3</A>. <A class="docLink" HREF="#ch11fig03">Figure 11-3a</A> shows the standard PI algorithm in block diagram form, with a saturation element to represent the manipulated input constraints. It is clear that there is no feedback to the algorithm to prevent the unconstrained input <span class="docEmphasis">v</span> from changing due to integration of the error signal. The "back-calculating" ARW strategy is shown in <A class="docLink" HREF="#ch11fig03">Figure 11-3b</A>. Here, the difference between the ideal (unconstrained) input <span class="docEmphasis">v</span> and the actual (constrained) input <span class="docEmphasis">u</span> is fed-back to the integrator. The resetting time, <font face="symbol">t</font><SUB>r</SUB>, is an adjustable parameter that is normally set equal to the integral time, <font face="symbol">t</font><SUB>I</SUB>. The first-order feedback method of implementing integral action is shown in <A class="docLink" HREF="#ch11fig03">Figure 11-3c</A>. For a resetting time equal to the integral time, the two antiwindup strategies (<A class="docLink" HREF="#ch11fig03">Figures b</A> and <A class="docLink" HREF="#ch11fig03">c</A>) yield the same closed-loop performance.</P>
<CENTER><H5 class="docFigureTitle"><A NAME="ch11fig03"></A>Figure 11-3. Various forms of PI control. (a) Standard PI control without windup compensation. (b) Reset back-calculating. (c) First-order feedback. (b, c) Antiwindup strategies.</H5><p class="docText"><IMG BORDER="0" WIDTH="450" HEIGHT="544" src="FILES/11fig03.gif" ALT="graphics/11fig03.gif"></p></CENTER>
<A NAME="ch11lev2sec4"></A><H4 class="docSection2Title"> Example 11.2: Illustration of Reset Windup Compensation (ARW)</H4>
<P class="docText">A comparison of the antiwindup approach with the saturating PI strategy is shown in <A class="docLink" HREF="#ch11fig04">Figure 11-4</A>, for the system given in <A class="docLink" HREF="#ch11lev2sec2">Example 11.1</A>. Note that the controller with antiwindup remains saturated for a much shorter time. Clearly, the antiwindup strategy is preferred.</P>
<CENTER><H5 class="docFigureTitle"><A NAME="ch11fig04"></A>Figure 11-4. Comparison of antiwindup (ARW) and uncompensated responses for system in <A class="docLink" HREF="#ch11lev2sec2">Example 11.1</A>. The overshoot in the uncompensated system is due to reset (integral) windup.</H5><p class="docText"><IMG BORDER="0" WIDTH="475" HEIGHT="379" src="FILES/11fig04.gif" ALT="graphics/11fig04.gif"></p></CENTER>
<P class="docText">Reset windup can be particularly problematic in cascade-control systems, particularly when batch processes are involved. This is illustrated by the cascade-control block diagram shown in <A class="docLink" HREF="#ch11fig05">Figure 11-5</A>. The outer loop (primary control loop) of a cascade strategy is normally tuned for much slower dynamics than is the inner loop (secondary control loop). If the inner loop performs more slowly than expected, due to constraints on the manipulated input for example, the performance of the outer loop controller may suffer. In this case external windup protection can be provided, as shown in the following example.</P>
<CENTER><H5 class="docFigureTitle"><A NAME="ch11fig05"></A>Figure 11-5. Series representation of a cascade-control system with saturation limits on the manipulated input.</H5><p class="docText"><IMG BORDER="0" WIDTH="500" HEIGHT="136" src="FILES/11fig05.gif" ALT="graphics/11fig05.gif"></p></CENTER>
<A NAME="ch11lev2sec5"></A><H4 class="docSection2Title"> Example 11.3: Cascade Control of a CSTR</H4>
<P class="docText">A physical example (temperature control of a jacketed CSTR) is shown in <A class="docLink" HREF="#ch11fig06">Figure 11-6</A>. The output of the primary controller (reactor temperature) is the setpoint to the inner-loop controller. The manipulated variable for the secondary loop is the jacket flow rate. If the flow rate becomes constrained, or if the jacket temperature controller is not tuned tightly, the jacket temperature will not closely match its setpoint, causing problems with the integral action in the primary loop.</P>
<CENTER><H5 class="docFigureTitle"><A NAME="ch11fig06"></A>Figure 11-6. Cascade-control applied to a CSTR.</H5><p class="docText"><IMG BORDER="0" WIDTH="500" HEIGHT="385" src="FILES/11fig06.gif" ALT="graphics/11fig06.gif"></p></CENTER>
<P class="docText">For simplicity, let the primary and secondary processes be represented by the following first-order transfer functions,</P>
<p class="docText"><IMG BORDER="0" WIDTH="91" HEIGHT="69" src="FILES/11equ01b.gif" ALT="graphics/11equ01b.gif"></p><br>
<P class="docText">and assume IMC-based PI tuning, where the secondary process dynamics were neglected in the design of the primary controller. Closed-loop time constants of 10 and 2 minutes were used for the primary and secondary loops, respectively. The manipulated input is assumed to saturate at &#177;3. The primary and secondary tuning parameters are then</P>
<p class="docText"><IMG BORDER="0" WIDTH="246" HEIGHT="82" src="FILES/11equ01c.gif" ALT="graphics/11equ01c.gif"></p><br>
<P class="docText">We first perform a simulation with antiwindup on the secondary control loop, since the jacket flow rate is constrained. The response to a unit setpoint change is shown in <A class="docLink" HREF="#ch11fig07">Figure 11-7</A>. Notice that there is still some windup involved, causing overshoot of the primary process output. This is because the output of the primary controller is a setpoint to the secondary controller. The secondary controller does not track its setpoint very well because of the saturation of the manipulated input. This is shown clearly in the middle plot of <A class="docLink" HREF="#ch11fig07">Figure 11-7</A>.</P>
<CENTER><H5 class="docFigureTitle"><A NAME="ch11fig07"></A>Figure 11-7. Performance of antiwindup secondary controller. The primary controller output (jacket temperature setpoint) differs substantially from the secondary measurement (jacket temperature).</H5><p class="docText"><IMG BORDER="0" WIDTH="475" HEIGHT="369" src="FILES/11fig07.gif" ALT="graphics/11fig07.gif"></p></CENTER>
<P class="docText">Improved performance can be obtained using an external input to the primary controller. The basic idea is illustrated in <A class="docLink" HREF="#ch11fig08">Figure 11-8</A> for the reactor temperature (master) controller, where the controller output is the jacket temperature setpoint. Here the jacket temperature (actual manipulated input) is compared with the jacket temperature setpoint (ideal manipulated input). If the jacket temperature is not equal to its setpoint, some of the integral action is "removed" by corrective feedback action. The improved cascade control, with antiwindup (<A class="docLink" HREF="#ch11fig03">Figure 11-3c</A>) on the secondary loop and external resetting antiwindup (<A class="docLink" HREF="#ch11fig08">Figure 11-8</A>) on the primary loop, has excellent performance, as shown in <A class="docLink" HREF="#ch11fig09">Figure 11-9</A>. There is now no overshoot in the primary process output (reactor temperature). The external reset windup protection is shown as a signal between the measured jacket temperature and the reactor temperature controller, on the control instrumentation diagram in <A class="docLink" HREF="#ch11fig10">Figure 11-10</A>.</P>
<CENTER><H5 class="docFigureTitle"><A NAME="ch11fig08"></A>Figure 11-8. Reactor temperature controller with external variable reset.</H5><p class="docText"><IMG BORDER="0" WIDTH="500" HEIGHT="247" src="FILES/11fig08.gif" ALT="graphics/11fig08.gif"></p></CENTER>
<CENTER><H5 class="docFigureTitle"><A NAME="ch11fig09"></A>Figure 11-9. Performance of CSTR cascade control with antiwindup protection on both controllers. The external ARW control strategy of <A class="docLink" HREF="#ch11fig08">Figure 11-8</A> is implemented on the reactor temperature controller.</H5><p class="docText"><IMG BORDER="0" WIDTH="450" HEIGHT="345" src="FILES/11fig09.gif" ALT="graphics/11fig09.gif"></p></CENTER>
<CENTER><H5 class="docFigureTitle"><A NAME="ch11fig10"></A>Figure 11-10. Cascade-control applied to a CSTR. The reactor temperature controller has external antireset windup (ARW) protection based on a measurement of the jacket temperature.</H5><p class="docText"><IMG BORDER="0" WIDTH="450" HEIGHT="351" src="FILES/11fig10.gif" ALT="graphics/11fig10.gif"></p></CENTER>
<P class="docText">It should be noted that antiwindup protection can also be provided by using the "velocity form" in a digital control system. This is discussed in <A class="docLink" HREF="0133536408_art16.html#art16">Module 16</A>.</P>
<a href="0133536408_9971534.html"><img src="FILES/pixel.gif" width="1" height="1" border="0"></a><ul></ul></td></tr></table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
          <a href="0133536408_ch11lev1sec1.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0133536408_ch11lev1sec3.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
