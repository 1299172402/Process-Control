<html><head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="5.3 Response to Setpoint Changes"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
<style type="text/css">	.tt1    {font-size: 10pt;}</style>
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
	<a href="0133536408_ch05lev1sec2.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0133536408_ch05lev1sec4.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="ch05lev1sec3"></A><H3 class="docSection1Title">5.3 Response to Setpoint Changes</H3>
<P class="docText">A simplified [assuming <span class="docEmphasis">g</span><SUB>m</SUB>(<span class="docEmphasis">s</span>) = <span class="docEmphasis">g</span><SUB>v</SUB>(<span class="docEmphasis">s</span>) = 1] feedback block diagram is shown in <A class="docLink" HREF="#ch05fig10">Figure 5-10</A>. This simplification is equivalent to lumping the measurement and valve dynamics into the process transfer function. By convention, we denote the output of the controller block as <span class="docEmphasis">u</span>(<span class="docEmphasis">s</span>), which is also the manipulated input. Notice that we are focusing on setpoint changes only, so we have not included the disturbance block. In <A class="docLink" HREF="0133536408_ch05lev1sec7.html#ch05lev1sec7">Section 5.7</A> we will focus on disturbances.</P>
<CENTER><H5 class="docFigureTitle"><A NAME="ch05fig10"></A>Figure 5-10. Simplified control block diagram. Disturbances are neglected and valve and measurement dynamics are lumped into the process transfer function.</H5><p class="docText"><IMG BORDER="0" WIDTH="500" HEIGHT="152" src="FILES/05fig10.gif" ALT="graphics/05fig10.gif"></p></CENTER>
<P class="docText">One objective of block diagram analysis is to find the output response to a setpoint change. A critical aspect is to determine the closed-loop stability. The key is to use block diagram manipulation to find the relationship between the setpoint and the output.</P>
<P class="docText">In <A class="docLink" HREF="#ch05fig11">Figure 5-11</A>, we have absorbed the closed-loop diagram of <A class="docLink" HREF="#ch05fig10">Figure 5-10</A> into a single transfer function block, to provide the closed-loop relationship between setpoint and process output.</P>
<CENTER><H5 class="docFigureTitle"><A NAME="ch05fig11"></A>Figure 5-11. External view of <A class="docLink" HREF="#ch05fig10">Figure 5-10</A>.</H5><p class="docText"><IMG BORDER="0" WIDTH="400" HEIGHT="103" src="FILES/05fig11.gif" ALT="graphics/05fig11.gif"></p></CENTER>
<P class="docText">Our goal is to obtain the output <span class="docEmphasis">y</span>(<span class="docEmphasis">s</span>) as a function of the setpoint, <span class="docEmphasis">r</span>(<span class="docEmphasis">s</span>). Here, we combine the process input-output relationship, <span class="docEmphasis">y</span>(<span class="docEmphasis">s</span>) = <span class="docEmphasis">g</span><SUB>p</SUB>(<span class="docEmphasis">s</span>) <span class="docEmphasis">u</span>(<span class="docEmphasis">s</span>), with controller relationship, <span class="docEmphasis">u</span>(<span class="docEmphasis">s</span>) = <span class="docEmphasis">g</span><SUB>c</SUB>(<span class="docEmphasis">s</span>) <span class="docEmphasis">e</span>(<span class="docEmphasis">s</span>), to find</P>
<p class="docText"><IMG BORDER="0" WIDTH="116" HEIGHT="17" src="FILES/05equ05a.gif" ALT="graphics/05equ05a.gif"></p>
<br>
<P class="docText">Also, since the error is defined as <span class="docEmphasis">e</span>(<span class="docEmphasis">s</span>)= <span class="docEmphasis">r</span>(<span class="docEmphasis">s</span>) - <span class="docEmphasis">y</span>(<span class="docEmphasis">s</span>), we can write</P>
<p class="docText"><IMG BORDER="0" WIDTH="163" HEIGHT="17" src="FILES/05equ05b.gif" ALT="graphics/05equ05b.gif"></p>
<br>
<P class="docText">which can be solved to find</P>
<p class="docText"><IMG BORDER="0" WIDTH="143" HEIGHT="42" src="FILES/05equ05c.gif" ALT="graphics/05equ05c.gif"></p><br>
<P class="docText">We refer to the relationship between <span class="docEmphasis">r</span>(<span class="docEmphasis">s</span>) and <span class="docEmphasis">y</span>(<span class="docEmphasis">s</span>) as the <span class="docEmphasis">closed-loop transfer function</span>, <span class="docEmphasis">g</span><SUB>CL</SUB>(<span class="docEmphasis">s</span>),</P>
<P><B><A NAME="ch05equ06"></A>Equation 5.6 </B></P><p class="docText"><IMG BORDER="0" WIDTH="131" HEIGHT="39" src="FILES/05equ06.gif" ALT="graphics/05equ06.gif"></p><br>
<P class="docText">If all of the poles of <span class="docEmphasis">g</span><SUB>CL</SUB>(<span class="docEmphasis">s</span>) are stable, then the closed-loop system is stable. The denominator of <span class="docEmphasis">g</span><SUB>CL</SUB>(<span class="docEmphasis">s</span>) is also known as the <span class="docEmphasis">characteristic equation</span>.</P>
<P class="docText">Equation (<A class="docLink" HREF="#ch05equ06">5.6</A>) has been derived for the simple diagram shown in <A class="docLink" HREF="#ch05fig10">Figure 5-10</A>. Please realize that more-complex block diagrams will have more-complex closed-loop transfer functions. You should be able to derive the closed-loop transfer function for any block diagram. For example the closed-loop transfer function for <A class="docLink" HREF="0133536408_ch05lev1sec2.html#ch05fig09">Figure 5-9</A> (neglecting disturbances) is</P>
<p class="docText"><IMG BORDER="0" WIDTH="193" HEIGHT="39" src="FILES/05equ06a.gif" ALT="graphics/05equ06a.gif"></p><br>
<A NAME="ch05lev2sec10"></A><H4 class="docSection2Title"> Possible Problems with <span class="docEmphasis">Offset</span> Using Proportional Controllers</H4>
<P class="docText">A problem with proportional controllers is that there is generally <span class="docEmphasis">offset</span> when a setpoint change is made. By offset, we mean that the actual process output will not be able to achieve the desired setpoint change. For simplicity, consider a first-order process, <span class="docEmphasis">g<SUB>p</SUB></span>(<span class="docEmphasis">s</span>) = <span class="docEmphasis">k<SUB>p</SUB></span>/(<font face="symbol">t</font><span class="docEmphasis"><SUB>p</SUB>s</span> + 1), with a proportional controller, <span class="docEmphasis">g<SUB>c</SUB></span>(<span class="docEmphasis">s</span>) = <span class="docEmphasis">k<SUB>c</SUB></span>, which leads to the following closed-loop transfer function</P>
<p class="docText"><IMG BORDER="0" WIDTH="267" HEIGHT="84" src="FILES/05equ06b.gif" ALT="graphics/05equ06b.gif"></p><br>
<P class="docText">We recognize that this is a first-order transfer function, where <span class="docEmphasis">k<SUB>CL</SUB></span> = <span class="docEmphasis">k<SUB>p</SUB>k<SUB>c</SUB></span>/(1 + <span class="docEmphasis">k<SUB>p</SUB>k<SUB>c</SUB></span>)and <font face="symbol">t</font><span class="docEmphasis"><SUB>CL</SUB></span> = <font face="symbol">t</font><span class="docEmphasis"><SUB>p</SUB></span>/(1 <span class="docEmphasis">k<SUB>p</SUB>k<SUB>c</SUB></span>). For closed-loop <span class="docEmphasis">stability</span>, the requirement is that <font face="symbol">t</font><span class="docEmphasis"><SUB>CL</SUB></span> &gt; 0 or <font face="symbol">t</font><span class="docEmphasis"><SUB>p</SUB></span>/(1 + <span class="docEmphasis">k<SUB>p</SUB>k<SUB>c</SUB></span>) &gt; 0. Since <font face="symbol">t</font><span class="docEmphasis"><SUB>p</SUB></span> &gt; 0 (the process is open-loop stable), we have the requirement that 1 + <span class="docEmphasis">k<SUB>p</SUB>k<SUB>c</SUB></span> &gt; 0 or</P>
<p class="docText"><IMG BORDER="0" WIDTH="54" HEIGHT="22" src="FILES/05equ06c.gif" ALT="graphics/05equ06c.gif"></p>
<br>
<P class="docText">for stability. Now consider a step setpoint change of magnitude <span class="docEmphasis">R</span>. You should be able show that the output response will be</P>
<p class="docText"><IMG BORDER="0" WIDTH="164" HEIGHT="18" src="FILES/05equ06d.gif" ALT="graphics/05equ06d.gif"></p>
<br>
<P class="docText">Notice that if <span class="docEmphasis">k<SUB>CL</SUB></span> is not exactly equal to 1, there will be "offset" in the closed-loop response, as shown in <A class="docLink" HREF="#ch05fig12">Figure 5-12</A>. That is, the process output will not exactly match the desired setpoint, even in the limit as time goes to infinity. Also, as a practical matter, it is important that <span class="docEmphasis">k<SUB>p</SUB>k<SUB>c</SUB></span> &gt; 0. Notice that if –1 &lt; <span class="docEmphasis">k<SUB>p</SUB>k<SUB>c</SUB> &lt;</span> 0, then <span class="docEmphasis">k<SUB>CL</SUB></span> is negative; although the closed-loop is stable, the process output actually moves in the opposite direction as the setpoint change.</P>
<CENTER><H5 class="docFigureTitle"><A NAME="ch05fig12"></A>Figure 5-12. Illustration of offset in system with a proportional controller.</H5><p class="docText"><IMG BORDER="0" WIDTH="450" HEIGHT="190" src="FILES/05fig12.gif" ALT="graphics/05fig12.gif"></p></CENTER>
<P class="docText">Offset can also be shown by the final value theorem of Laplace transforms.</P>
<p class="docText"><IMG BORDER="0" WIDTH="310" HEIGHT="77" src="FILES/05equ06e.gif" ALT="graphics/05equ06e.gif"></p><br>
<P class="docText">or the fractional offset is 1/(1 + <span class="docEmphasis">k<SUB>p</SUB>k<SUB>c</SUB></span>). For a given <span class="docEmphasis">k</span><SUB>p</SUB>, the offset will be reduced as <span class="docEmphasis">k</span><SUB>c</SUB> gets larger and larger. Also, an increase in <span class="docEmphasis">k</span><SUB>c</SUB> decreases <font face="symbol">t</font><SUB>CL</SUB>, speeding up the closed-loop response.</P>
<A NAME="ch05lev2sec11"></A><H4 class="docSection2Title"> Example 5.1: Offset with Proportional (P) Control of a First-Order Process</H4>
<P class="docText">Consider the process transfer function for a stirred-tank heater, where the output is temperature (&#176;C), the manipulated input is heater power (kW), and the timescale is minutes.</P>
<p class="docText"><IMG BORDER="0" WIDTH="90" HEIGHT="59" src="FILES/05equ06f.gif" ALT="graphics/05equ06f.gif"></p><br>
<P class="docText">Assume a unit step temperature setpoint change [<span class="docEmphasis">r</span>(<span class="docEmphasis">s</span>) = 1/<span class="docEmphasis">s</span>]. The stability condition was <span class="docEmphasis">k<SUB>p</SUB>k<SUB>c</SUB></span> &gt; –1, so the closed-loop should be stable as long as <span class="docEmphasis">k<SUB>c</SUB></span> &gt; –1. Closed-loop responses for various values of k<SUB>c</SUB> (-0.5, 1, 5, and 10 kW/&#176;C) are shown in <A class="docLink" HREF="#ch05fig13">Figure 5-13</A>. As expected, increasing <span class="docEmphasis">k</span><SUB>c</SUB> speeds up the response and reduces the offset. Also, it is obvious that the controller gain should be greater than zero (that is, it should be the same sign as the process gain), otherwise the response is in the opposite direction; although this may be stable, it is certainly not desirable.</P>
<CENTER><H5 class="docFigureTitle"><A NAME="ch05fig13"></A>Figure 5-13. Closed-loop response of a first-order system under proportional-only control. Effect of proportional gain on offset, speed of response, and manipulated input action.</H5><p class="docText"><IMG BORDER="0" WIDTH="500" HEIGHT="389" src="FILES/05fig13.gif" ALT="graphics/05fig13.gif"></p></CENTER>
<P class="docText">Thus far we have not considered the effect of control action. It is easy to derive the following relationship between <span class="docEmphasis">r</span>(<span class="docEmphasis">s</span>) and <span class="docEmphasis">u</span>(<span class="docEmphasis">s</span>) from <A class="docLink" HREF="#ch05fig10">Figure 5-10</A>:</P>
<p class="docText"><IMG BORDER="0" WIDTH="142" HEIGHT="39" src="FILES/05equ06g.gif" ALT="graphics/05equ06g.gif"></p><br>
<P class="docText">For this example,</P>
<p class="docText"><IMG BORDER="0" WIDTH="209" HEIGHT="83" src="FILES/05equ06h.gif" ALT="graphics/05equ06h.gif"></p><br>
<P class="docText">which we recognize is a lead-lag response. The control (manipulated) variable response for this example is also shown in <A class="docLink" HREF="#ch05fig13">Figure 5-13</A> for various values of <span class="docEmphasis">k</span><SUB>c</SUB>. As <span class="docEmphasis">k</span><SUB>c</SUB> increases, the magnitude and speed of the manipulated variable response increases. For a particular physical system, too high of a value of <span class="docEmphasis">k</span><SUB>c</SUB> may cause the manipulated variable to hit a constraint. Consider a step setpoint change of magnitude <span class="docEmphasis">R</span> [that is <span class="docEmphasis">r</span>(<span class="docEmphasis">s</span>) = <span class="docEmphasis">R</span>/<span class="docEmphasis">s</span>]. From the definition of a proportional controller, or from the initial value theorem, we can show that</P>
<p class="docText"><IMG BORDER="0" WIDTH="91" HEIGHT="18" src="FILES/05equ06i.gif" ALT="graphics/05equ06i.gif"></p>
<br>
<P class="docText">If <span class="docEmphasis">R</span><SUB>max</SUB> represents a maximum setpoint change and <span class="docEmphasis">u</span><SUB>max</SUB> represents a maximum allowable manipulated variable change, then clearly <span class="docEmphasis">k</span><SUB>c</SUB> must be less <span class="docEmphasis">u</span><SUB>max</SUB>/<span class="docEmphasis">R</span><SUB>max</SUB> to avoid manipulated variable saturation.</P>
<P class="docText">Notice that increasing the controller gain reduces the offset and speeds up the response. In the limit of an infinite controller gain, there is no offset and the dynamic closed-loop response is instantaneous; a clear limitation is that the manipulated input may hit a constraint (in this example, the heater power will be limited to some maximum value). In practice, there are time delays or other model uncertainties and that may cause the closed-loop to be unstable with high controller gains. It is necessary, then, to devise other control strategies to remove offset. These strategies are detailed in <A class="docLink" HREF="0133536408_ch05lev1sec4.html#ch05lev1sec4">Section 5.4</A>.</P>
<P class="docText">Please note that there is one type of process where proportional control does not yield offset when a setpoint change is made. These are integrating processes, where one pole of the process has a value of zero; for example,</P>
<p class="docText"><IMG BORDER="0" WIDTH="89" HEIGHT="38" src="FILES/05equ06j.gif" ALT="graphics/05equ06j.gif"></p><br>
<P class="docText">The reader should use the final value theorem of Laplace transforms to show that this process will not have offset when a step setpoint change is made, under proportional control.</P>
<a href="0133536408_9971534.html"><img src="FILES/pixel.gif" width="1" height="1" border="0"></a><ul></ul></td></tr></table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
          <a href="0133536408_ch05lev1sec2.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0133536408_ch05lev1sec4.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
